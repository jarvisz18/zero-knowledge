## Spring

#### @Transactional事务不生效的场景

- 1.数据库引擎是否支持事务(Mysql 的Mylsam引擎不支持事务)
- 2.注解所在的类是否被加载成Bean
- 3.注解所在方法是否为public修饰的
- 4.是否发生了自调用问题
- 5.所用数据源是否加载了事务管理器
- 6.@Transactionl的扩展配置propagation是否正确

#### Spring整合第三方框架底层原理解析

1.spring中的bean是如何生成的
2.spring提供了哪些扩展点可以来用来整合第三方框架
3.spring是如何整合mybatis

#### Spring七种事务传播机制

spring事务传播机制可以分为三组

##### 支持当前事务

支持当前事务的传播机制有三种，分别是
> 1 REQUIRED(必须有)

````
含义:如果当前方法没有事务，新建一个事务，如果已经存在一个事务中，则加入到这个事务中。
````

> 2 SUPPORTS(可有可无)

````
含义:支持当前事务，如果当前没有事务，就以非事务方式执行。
````

> 3 MANDATORY(强制)

````
含义:使用当前的事务。如果当前没有事务，就抛出异常。
````

##### 不支持当前事务

> 4 REQUIRES_NEW

````
含义:新建事务，如果当前存在事务，把当前事务挂起。
````

> 5 NOT_SUPPORTED

````
含义:以非事务方式执行操作，如果当前存在事务,就把当前事务挂起
````

> 6 NEVER

````
含义:以非事务方式执行，如果当前存在事务，则抛出异常
````

##### NESTED

> 7 NESTED

````
含义: 如果当前存在事务，则在嵌套事务内执行。如果当前没有事务，则执行与PROPAGATION_REQUIRED类似的操作
````

##### spring事务

> <https://www.cnblogs.com/mseddl/p/11577846.html>

##### 案例分析

> 执行某操作,前50次成功,第51次失败a全部回滚b前50次提交第51次抛异常,
> ab场景分别如何设置Spring (传播特性)
