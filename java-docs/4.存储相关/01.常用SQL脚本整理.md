#### 01.两表关联,update select
````shell script
#mysql 写法
update t1
set t1.name = t2.name
inner join t2 on t1.id = t2.id

#db2写法
update t1 
set t1.name = (select t2.name from t2 where t2.id= t1.id)
where exists (select 1 from t2 where t2.id = t1.id)
````

#### 02.复制表结构并备份表
````shell script
create table t1_bak like t1;
insert into t1_bak select * from t1; 

##pgsql复制表结构
create table t1_bak (like t1);
create table t1_bak as (select * from t1 limit 0);
````

#### 03.截取字符串
````shell script
--db2
select substr(str,m,n) from db1_name;
--substr(str,m,n) 表示从str的m个字符开始截取n个字符 注: m从1开始计数
````

#### 04.使用in查询总结
````shell script
-- 1.使用in时,忽略null值,不会查询条件为null的数据
-- 2.使用not in时,如果not in后面的括号中没有null,会查询符合条件的数据,否则过滤条件为null的数据
-- 3.使用not in时,如果not in 后面的括号中有null,直接返回false,查询结果为空
````

#### 05.group by+ having查询重复的主键
````shell script
select id from t_name group by id having count(id)>1;
````

#### 06.SQL NOT操作符
WHERE 子句中的 NOT 操作符有且只有一个功能：否定它之后所跟的任何条件。  
可以使用 NOT 操作符对 IN、BETWEEN、EXISTS子句进行**取反**。

语法
````shell script
select 列名 from 表名 where 列名 not 条件语句;
````
举例
````shell script
select * from tableName as t1 where not (out_time < '2021-12-18' or in_time > '2021-12-31');
等价于
select * from tableName as t1 where out_time >= '2021-12-18' and in_time <= '2021-12-31';
````