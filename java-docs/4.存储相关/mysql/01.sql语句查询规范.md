## SQL规范
#### 工作总结
````
1. 数据库不能存储JSON数据（强制），能拆分的字段尽量拆分，不要为了合并存储
2. 产生笛卡尔集的数据去重，使用in查询
3. sql中or和and同时使用时一定要使用括号，避免发生歧义！
````

#### 基本设计规范
````
1.所有表必须使用innodb存储引擎
2.数据库和表的字符集统一使用UTF8
3.所有表和字段都需要添加注释
4.尽量控制单表的数量，建议控制在500w以内
5.谨慎使用Mysql分区表
6.尽量做到冷热数据分离，减小表的宽度
7.禁止在表中建立预留字段
8.禁止在表中存储图片，文件等大的二进制数据
9.禁止在线上作数据库压力测试
10.禁止在开发环境、测试环境直接连接生产数据库
````

#### 字段设计规范
````
1.优先选择符合存储需要的最小的数据类型
2.避免使用TEXT、BLOB数据类型，最常见的TEXT类型可以存储64k的数据
3.避免使用ENUM类型
4.尽可能把所有列定义为NOT NULL
5.使用TIMESTAMP(4个字节)或DATETIME(8个字节)存储时间
6.同财务相关的金额类数据必须使用decimal类型
````

#### 索引设计规范
````
1.限制每张表上的索引数量，建议每张表索引不超过5个
2.禁止给表中的每一列都建立单独的索引
3.每个Innodb表必须有个主键
````

#### SQL开发规范
````
1.建议使用预编译语句进行数据库操作
2.避免数据类型的隐式转换
3.充分利用表上已经存在的索引
4.数据库设计时，应该要对以后扩展进行考虑
5.程序连接不同的数据库使用不同的账号，禁止跨库查询
6.禁止使用 SELECT * ，必须使用select <字段名>
````