##工作笔记
#### 01.SQL中对多个字段进行排序
````shell script
ORDER BY field1 DESC, field2 DESC
````

####02.备份数据库
````shell script
create table bak_t1_20200713 like t1;
insert into bak_t1_20200713 select * from t1;
commit;
````
####03.查询某数据库中一共有多少张表
````shell script
SELECT
	COUNT(*) as tables,
	table_schema
from information_schema.TABLES
where TABLE_SCHEMA = 'test'
group by TABLE_SCHEMA ;

-- mysql 查询 所有表及表记录数
SELECT table_name,table_rows FROM information_schema.tables  WHERE table_schema='库名称' ORDER BY table_rows DESC;

SELECT table_name,table_rows FROM information_schema.tables  WHERE table_schema='fjgldb' ORDER BY table_rows DESC;
````

####04.MySQL查询优化
1.like查询不以左%开头  
2.关联查询的字段类型保持一致，避免类型转换  
3.使用join替代子查询  
4.where、order by后的字段加索引


####04.MySQL常见问题
Mysql：报错message from server: "Too many connections"(连接太多)
Data source rejected establishment of connection,  message from server: "Too many connections"

修改文件
````shell script
vi /etc/my.cnf
````
修改连接数
````shell script
max_connections=2000
````
查询连接数
````shell script
mysql> show variables like 'max_connections';
+-----------------+-------+
| Variable_name   | Value |
+-----------------+-------+
| max_connections | 2000  |
+-----------------+-------+
1 row in set (0.01 sec)
-----------------------------------
````
####05.查看mysql 时间的命令
````shell script
select curDate();    #获取当前日期  
select curTime();    #获取当前时间            
select now();       #获取当前日期+时间
````
#### 06.查看InnoDB运行态信息
````shell script
show engine innodb status\G 
````
的结果里面有详细的 InnoDB 运行态信息，分段记录的，包括内存、线程、信号、锁、事务等，  
请你多多使用，出现问题时从中能分析出具体原因和解决方案。

#### 07.那些列上适合添加索引
①	查询作为查询条件字段应该创建索引  
②	唯一性太差的字段不适合单独创建索引,即使频繁  
````shell script 
select * from emp where sex=’男’
````
③	频繁更新字段，也不要定义索引。  
④	不会出现在where语句的字段不要创建索引

